-- Database: crimes

-- DROP DATABASE crimes;

CREATE DATABASE crimes
    WITH 
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'Russian_Russia.1251'
    LC_CTYPE = 'Russian_Russia.1251'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1;
	
	
	
	
-- Table: public.Street

-- DROP TABLE public."Street";

CREATE TABLE public."Street"
(
    id bigint NOT NULL,
    name character varying COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT "Street_pkey" PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Street"
    OWNER to postgres;
	
	
	
	
-- Table: public.Location

-- DROP TABLE public."Location";

CREATE SEQUENCE "Location_id_seq";

CREATE TABLE public."Location"
(
    id bigint NOT NULL DEFAULT nextval('"Location_id_seq"'),
    latitude double precision NOT NULL,
    longitude double precision NOT NULL,
    "street-id" bigint NOT NULL,
	CONSTRAINT "Location_pkey" PRIMARY KEY (id),
    CONSTRAINT "street-id" FOREIGN KEY ("street-id")
        REFERENCES public."Street" (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER SEQUENCE "Location_id_seq"
OWNED BY "Location".id;

ALTER TABLE public."Location"
    OWNER to postgres;
	
	
	
-- Table: public.Outcome-Status

-- DROP TABLE public."Outcome-Status";
CREATE SEQUENCE "Outcome-Status_id_seq";

CREATE TABLE public."Outcome-Status"
(
    id bigint NOT NULL DEFAULT nextval('"Outcome-Status_id_seq"'),
    category character varying COLLATE pg_catalog."default" NOT NULL,
    date date NOT NULL,
    CONSTRAINT "Outcome-Status_pkey" PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER SEQUENCE "Outcome-Status_id_seq"
OWNED BY "Outcome-Status".id;

ALTER TABLE public."Outcome-Status"
    OWNER to postgres;
	
	
	
	
	
	
-- Table: public.Crimes

-- DROP TABLE public."Crimes";

CREATE TABLE public."Crimes"
(
    category character varying COLLATE pg_catalog."default" NOT NULL,
    context character varying COLLATE pg_catalog."default" NOT NULL,
    id bigint NOT NULL,
    "location-subtype" character varying COLLATE pg_catalog."default" NOT NULL,
    "location-type" character varying COLLATE pg_catalog."default" NOT NULL,
    month date NOT NULL,
    "presistent-id" character varying COLLATE pg_catalog."default" NOT NULL,
	"location-id" bigint NOT NULL,
	"outcome-status-id" bigint NOT NULL,
    CONSTRAINT Crimes_pkey PRIMARY KEY (id),
	CONSTRAINT "location-id" FOREIGN KEY ("location-id")
        REFERENCES public."Location" (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
	CONSTRAINT "outcome-status-id" FOREIGN KEY ("outcome-status-id")
        REFERENCES public."Outcome-Status" (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."Crimes"
    OWNER to postgres;
	
	
	

	